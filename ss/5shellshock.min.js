/*VERSION:0.39.6*/

window._utils = {};
window._utils.requirelib = async function(url, global){
  return new Promise(async function(resolve){
    async function getCode(){
      var xmlHttp = new XMLHttpRequest();
      xmlHttp.open( "GET", url, false );
      xmlHttp.send( null );
      return xmlHttp.responseText;
    }
    let code = await getCode();

    if (global){
      code += 'window["' + global + '"] = ' + global + ';';
    }
    let evaluateCode = new Function(code);
    evaluateCode();
    resolve('done');
  });
};

window._utils.requirelib('https://unpkg.com/guify@0.12.0/lib/guify.min.js').then(() => { 
  window.hack.loadGui();
});

window.hack = {
  loadGui: ()=>{},
  modMenu: { 
    credit: {}
  },
  gui: {},
};

window.hack.loadGui = function(){

  window.hack.gui = new guify({
    title: 'JeffWare 0.0.0',
    theme: 'light',
    align: 'right',
    barMode: 'overlay',
    opacity: 0.95,
    open: true
  });
  
  hack.modMenu.credit = hack.gui.Register({
    type: 'text',
    label: 'Credits'
  });
  
  
  window.hack.modMenu.credit.container.innerHTML = `<p style="color:black;font-size: medium;margin-bottom: 0px;padding-left: 15px;">Hey</p>`

  
  let titleTextElm = window.hack.gui.panel.panel.childNodes[0];
  titleTextElm.style.color = "black";
  titleTextElm.style.fontWeight = "bold";
}
                            
let codeVersion = "0.39.7";
let gameVersion = window.version;
if (codeVersion != gameVersion){
  alert(`JeffWare Code Version does not match ShellShockers current version

JeffWare Version: ${codeVersion}
Game Version: ${gameVersion}`);
}
